# road-navigation

### 1.도로정보 출처
도로 정보 출처 : 한국도로공사 - https://www.ex.co.kr 

네비게이션에 사용될 지역으로는 각 고속도로 분기점, 몇가지 지역 사용 (많은 지역과 휴게소로 인해 여러 지역 제외)

### 2.고려사항

  1. 정점이 각 고속도로의 분기점이기 때문에 양이 많고 많은 양에 비해 인접정점이 적다 고로 인접행렬로 그래프를 표현하기에 부적합하다.
     >연결리스트 사용

  2. 연결리스트로 분기점(정점)을 묶을 경우 두 사이의 도로(간선)의 가중치 저장에 무언가가 필요.
     >각 도로(간선)을 하나의 구조체로 가중치와 종착점(정점)을 저장하고 각 분기점(정점)에 인접한 도로(간선)를 저장한다.

  3. 고속도로상 왕복간에 두 도로는 다른 도로다.

  4. 결과 값은 출발점과 도착점사이의 분기점과 총 가중치이다.
     >Dijstra 알고리즘을 적용하는데 있어서 각 분기점까지의 경로와 총 가중치를 저장해야한다.

  5. 4와 같이 분기점자체에 경로, 가중치를 저장할 경우 Dijstra 알고리즘마다 그래프를 재생성해야한다.

### 3.분석
I :  사용자로 부터 출발지와 도착지를 입력 받는다.
    여러 교통경로(국도, 고속도로), 분기점
    도로 교통상황은 왕복간에 서로 다른 도로기 때문에 그래프 상에 각 정점을 구성하고 간선을 이중으로 구성한다.

O : 교통상황에 따른 최소 비용 경로(+거리, 소요시간)

P : Dijstra 알고리즘을 사용하며 최소값은 히프정렬로 구한다.
    가중치는 소요시간으로 distance에서 평균 80km/h으로 기준을 잡으며 traffic 1.0~2.0으로 교통량에 따라 변경

     1. Dijstra 알고리즘은 인접 간선의 종착지가 도착지일 경우 종료한다.
     2. 인접정점의 배열을 만들어 불필요한 정점에 대해서는 반복을 취하지않는다.
     3. 최소 가중치 정점의 인접간선(도로)들의 종착지가 인접 정점이 된다.
     4. 인접정점 중 선택하지 않은 정점중에 stopover이 0인 경우 즉 이전에 인접해있지 않았던 정점인 경우 인접정점 배열에 추가한다.
        그외 경우는 해당 인접정점의 가중치와 최소 가중치 정점으로부터의 가중치를 비교하여 값을 변경한다. distance의 초기화값은 9999이다    
        
### 4.알고리즘
```
  while (true)
	  init_Heap //우선순위큐(최소 히프) 초기화
	  for 인접 정점 배열 크기 do
      if 정점이 선택되지 않은경우
		     insert(히프정렬(우선순위), 정점)
	  repeat
	  최소비용정점 = delete(히프정렬(우선순위))
	  최소비용정점 선택여부=true;
	  for 최소비용정점으로부터 인접 간선갯수 만큼 then
      정점A = 해당 간선의 종착지
      if A선택여부 != true then
        if A->stopover(경유갯수) ==0 then
          인접 정점 배열에 추가
        if 누적비용(최소비용정점의 누적가중치 + 간선 가중치) < A 누적가중치 then
          A 경로 = 최소비용 정점 경로 + 최소비용 정점
          A 비용 = 누적비용
          ...
          최소비용정점값 V에 복사
        if A = 도착지 then
          return A;
    repeat
  repeat
```

### 5.결과예상
#### 출발지 : 서울 -> 목적지 : 신평분기점
- 사용된 고속도로 및 분기점

      1.경부고속도로 : 0부산-1양산-2언양(울산)-3경주-4영천-5경산-6동대구-7금호(북대구,5분기)-8김천(4분기)-9비룡(대전)-10대전-11회덕(대전)-12청주-13남이(청주)-14천안-15안성-16오산-17동탄(화성)-18신갈(용인)-19판교(성남)-20금토(성남)-21서울

      2.서해안고속도로 : 22죽림-23목포-24함평(6분기)-25영광-26고창-27부안-28군산-29서천-30홍성-31서산-32당진-33서평택-34안산(3분기)-21서울

      3.영동 고속도로 : 35서창(인천)-34안산(2분기)-36수원-18신갈(용인,1분기)-37호법(이천)-38여주(4분기)-39만종-40원주-41횡성-42평창-43강릉

      4.중부내륙 : 44내서JC(창원)-45칠원JC(함안)-46창녕-47현풍-48고령(6분기)-49성주-8김천(1분기)-50낙동JC(상주)-51문경-52연풍(괴산)-53노은JC-54충주-38여주(3분기)-55양평

      5.중앙 : 7금호(북대구,1분기)-56군위-57의성-58안동JC-59예천-60영주-61단양-62제천-63신평(원주)-64홍천-65춘천

      6.광주대구선 : 66옥포(대구,7분기)-48고령(4분기)-67함양-68남원-69순창-70담양-71고서(광주) , 72광주-73나주-24함평(2분기)-74무안
<div align="center">
<img src="https://user-images.githubusercontent.com/91615180/219935745-0f57076e-87bd-4188-ae5d-a5c7262d280e.png" width="665" height="344"/>

>현재 프로그램 내 고속도로상 서울에서 신평을 가기 위해서는 경부고속도로를 통해 금호분기점을 경유하여 중앙고속도로로 가야한다.
</div>

### 6.결과
<div align="center">
<img src="https://user-images.githubusercontent.com/91615180/219936051-79e2684a-4ff6-42e9-89cf-9fc8a06e4ed4.png" width="701" height="472"/>

**고속도로 상 제외한 휴계소, 대략적인 거리로 기입한 것을 감안시 거의 일치하는 모습**

>네이버의 경우 <중부내륙고속도로 -> 경부고속도로 -> 중앙 고속도로> 이지만 <br>
프로그램내에 등록한 서울이 정확한 서울이 아닌 경부고속도로 끝점이라는 점과 중부내륙고속도로를 구현하지 않음
</div>

### 7.보완점
1.고속도로 정보를 직접 기입했기 때문에 없는 도로정보에 대한 길찾기가 불가능 했다. 도로공사 API를 통해 고속도로 정보를 가져왔다면 좀더 완성도가 높았을 것이다.

2.GUI로 구현하고 싶었으나 Unity(C#)에 대한 지식이 부족하여 아쉽게 마무리 되었다.
<div align="center">
<img src="https://user-images.githubusercontent.com/91615180/219936405-89ab5365-75be-4d46-bc14-aca679bc1734.png" width="656" height="424"/>
</div>

